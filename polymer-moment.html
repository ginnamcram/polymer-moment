<link rel="import" href="bower_components/polymer/polymer.html">
<script type="text/javascript" src="bower_components/moment/moment.js"></script>
<dom-module id="polymer-moment">
  <template>
    <span>{{moment}}</span>
  </template>
  <script>
	Polymer({
		is: "polymer-moment",
		properties: {
			moment: {
				type: String,
				value: '',
      			notify: true
			},
			value: {
				type: String,
				value: '',
      			notify: false
			},
			inputFormat: {
				type: String,
				value: '',
      			notify: false
			},
			format: {
				type: String,
      			notify: false
			}
  		},
		ready: function(){
			this._moment = null;
			if(typeof(this.inputFormat) == 'string')	this._moment = moment(this.value,this.inputFormat);
			else										this._moment = moment(this.value);
			this.update();
		},
		update:function(){
			if(typeof(this.format) == 'string')	this.moment = this._moment.format(this.format);
			else 								this.moment = this._moment.fromNow();
		}
	});
  </script>

</dom-module>